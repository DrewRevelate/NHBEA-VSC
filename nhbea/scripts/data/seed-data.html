<!DOCTYPE html>
<html>
<head>
    <title>Seed Firestore Data</title>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
</head>
<body>
    <h1>Seeding Firestore Data</h1>
    <div id="status">Initializing...</div>
    <div id="log"></div>

    <script>
        // Your web app's Firebase configuration
        const firebaseConfig = {
          apiKey: "AIzaSyDlvHBg0YQyqrD1nh9Ga9X5_ZoIiRqjNFk",
          authDomain: "nhbea-64cab.firebaseapp.com",
          projectId: "nhbea-64cab",
          storageBucket: "nhbea-64cab.firebasestorage.app",
          messagingSenderId: "888734142033",
          appId: "1:888734142033:web:b8537b82a30b8b2e3c2e98"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        function log(message) {
            const logDiv = document.getElementById('log');
            logDiv.innerHTML += `<p>${new Date().toLocaleTimeString()}: ${message}</p>`;
            console.log(message);
        }

        function updateStatus(message) {
            document.getElementById('status').innerText = message;
            log(message);
        }

        async function seedCollections() {
            try {
                updateStatus('Starting data seeding...');

                // 1. Organizations
                log('Creating organization...');
                await db.collection('organizations').doc('keene-state').set({
                    name: "Keene State College",
                    type: "college",
                    address: {
                        street: "229 Main Street",
                        city: "Keene",
                        state: "NH",
                        zipCode: "03435"
                    },
                    contact: {
                        phone: "(603) 352-1909",
                        email: "info@keene.edu",
                        website: "https://www.keene.edu"
                    },
                    isActive: true,
                    notes: "Public liberal arts college in Keene, New Hampshire",
                    createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                    updatedAt: firebase.firestore.FieldValue.serverTimestamp()
                });

                // 2. Members
                log('Creating member...');
                await db.collection('members').doc('sarah-johnson').set({
                    memberNumber: "NHBEA-2025-0001",
                    firstName: "Sarah",
                    lastName: "Johnson",
                    email: "sarah.johnson@keene.edu",
                    phone: "(603) 555-1234",
                    organizationId: "keene-state",
                    position: "Business Education Professor",
                    yearsExperience: 15,
                    address: "123 Elm Street",
                    city: "Keene",
                    state: "NH",
                    zipCode: "03431",
                    membershipType: "professional",
                    status: "active",
                    joinDate: new Date('2020-01-15'),
                    renewalDate: new Date('2025-01-15'),
                    expirationDate: new Date('2026-01-15'),
                    isBoardMember: true,
                    boardPosition: "President",
                    boardStartDate: new Date('2024-07-01'),
                    communicationPreferences: {
                        newsletter: true,
                        updates: true,
                        events: true,
                        mailings: true
                    },
                    paymentHistory: [],
                    createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                    updatedAt: firebase.firestore.FieldValue.serverTimestamp(),
                    notes: "Current board president, excellent leader"
                });

                // 3. Conference
                log('Creating conference...');
                await db.collection('conference').doc('annual-2025').set({
                    title: "2025 NHBEA Annual Conference",
                    theme: "Innovation in Business Education",
                    description: "Join us for our annual conference featuring the latest trends and best practices in business education.",
                    startDate: new Date('2025-03-15T09:00:00'),
                    endDate: new Date('2025-03-15T16:00:00'),
                    timezone: "America/New_York",
                    isVirtual: false,
                    venue: {
                        name: "Keene State College Student Center",
                        address: "229 Main Street",
                        city: "Keene",
                        state: "NH",
                        zipCode: "03435",
                        directions: "Main entrance, second floor ballroom"
                    },
                    registrationFee: 75.00,
                    currency: "USD",
                    maxCapacity: 150,
                    registrationDeadline: new Date('2025-03-01T23:59:59'),
                    isRegistrationOpen: true,
                    isActive: true,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                    updatedAt: firebase.firestore.FieldValue.serverTimestamp(),
                    notes: "Annual flagship conference event"
                });

                // 4. Content
                log('Creating homepage content...');
                await db.collection('content').doc('homepage').set({
                    heroTitle: "New Hampshire Business Educators Association",
                    heroSubtitle: "Empowering educators, inspiring students, and strengthening business education across New Hampshire",
                    heroImageURL: "",
                    missionTitle: "Our Mission",
                    missionContent: "NHBEA is dedicated to promoting excellence in business education through professional development, networking, and advocacy for business educators and students throughout New Hampshire.",
                    aboutTitle: "About NHBEA",
                    aboutContent: "The New Hampshire Business Educators Association serves as the premier professional organization for business educators in the state. We provide resources, support, and opportunities for growth to help our members deliver exceptional business education to their students.",
                    createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                    updatedAt: firebase.firestore.FieldValue.serverTimestamp()
                });

                // 5. Board Members
                log('Creating board member...');
                await db.collection('boardMembers').doc('president').set({
                    name: "Sarah Johnson",
                    title: "President",
                    bio: "Sarah has been an advocate for business education for over 15 years, bringing innovative teaching methods to the classroom.",
                    imageURL: "",
                    order: 1
                });

                // 6. Past Presidents
                log('Creating past president...');
                await db.collection('pastPresidents').doc('robert-williams').set({
                    name: "Robert Williams",
                    term: "2022-2023",
                    order: 1
                });

                // 7. Sponsors
                log('Creating sponsor...');
                await db.collection('sponsors').doc('sample-partner').set({
                    name: "Sample Business Partner",
                    logoURL: "",
                    website: "https://example.com",
                    order: 1
                });

                // 8. Student Applicants
                log('Creating student applicant...');
                await db.collection('studentApplicants').doc('emma-wilson').set({
                    personalInfo: {
                        firstName: "Emma",
                        lastName: "Wilson",
                        email: "emma.wilson@student.keene.edu",
                        phone: "(603) 555-9876"
                    },
                    academicInfo: {
                        institution: "Keene State College",
                        major: "Business Administration",
                        graduationYear: 2026,
                        gpa: 3.7
                    },
                    essay: "I am passionate about business education and want to contribute to the future of the field...",
                    references: [
                        {
                            name: "Dr. Smith",
                            email: "dr.smith@keene.edu",
                            relationship: "Professor"
                        },
                        {
                            name: "Jane Doe",
                            email: "jane.doe@keene.edu",
                            relationship: "Academic Advisor"
                        }
                    ],
                    submittedAt: firebase.firestore.FieldValue.serverTimestamp(),
                    status: "pending"
                });

                // 9. Newsletter Subscribers
                log('Creating newsletter subscriber...');
                await db.collection('newsletterSubscribers').doc('demo-subscriber').set({
                    email: "newsletter@example.com",
                    timestamp: firebase.firestore.FieldValue.serverTimestamp(),
                    status: "active",
                    source: "website"
                });

                // 10. Registrants
                log('Creating conference registrant...');
                await db.collection('registrants').doc('sarah-registration').set({
                    conferenceId: "annual-2025",
                    memberId: "sarah-johnson",
                    registrationDate: new Date('2025-01-15T10:30:00'),
                    registrationStatus: "confirmed",
                    paymentStatus: "completed",
                    paymentAmount: 75.00,
                    currency: "USD",
                    paymentDate: new Date('2025-01-15T10:35:00'),
                    receiptUrl: "https://example.com/receipt/12345",
                    dietaryRestrictions: "",
                    accessibilityNeeds: "",
                    checkedIn: false,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                    updatedAt: firebase.firestore.FieldValue.serverTimestamp(),
                    notes: "Board member registration"
                });

                updateStatus('✅ All dummy data created successfully!');
                log('You can now view all collections in FireCMS at: https://app.firecms.co/p/nhbea-64cab');

            } catch (error) {
                updateStatus('❌ Error creating dummy data: ' + error.message);
                log('Error details: ' + error);
            }
        }

        // Start seeding when page loads
        window.onload = function() {
            updateStatus('Ready to seed data...');
            seedCollections();
        };
    </script>
</body>
</html>